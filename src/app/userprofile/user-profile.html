<div class="main-wrapper" [class.sidebar-open]="isSideMenuOpen">
  <ngx-spinner type="ball-scale-multiple"></ngx-spinner>
  <app-nav-menu class="sidebar" [userFullName]="userFullName" [isSideMenuOpen]="isSideMenuOpen" (sideMenuToggled)="isSideMenuOpen = $event"></app-nav-menu>
  <div class="main-content">
    <div class="top-content">
       <div class="kpi-card">
               <div class="kpi-icon" style="background:#e53935;">
                  <mat-icon>error_outline</mat-icon>
               </div>
               <div class="kpi-detail">
                  <span class="kpi-title">Open Incidents</span>
                  <span class="kpi-value">{{noOfOpenReports}}</span>
               </div>
       </div>
       <div class="kpi-card">
               <div class="kpi-icon" style="background:#fb8c00;">
                  <mat-icon>hourglass_top</mat-icon>
               </div>
               <div class="kpi-detail">
                  <span class="kpi-title">In Progress Incidents</span>
                  <span class="kpi-value">{{noOfInProgressReports}}</span>
               </div>
       </div>
       <div class="kpi-card">
               <div class="kpi-icon" style="background:#43a047;">
                  <mat-icon>check_circle</mat-icon>
               </div>
               <div class="kpi-detail">
                  <span class="kpi-title">Resolved Incidents</span>
                  <span class="kpi-value">{{noOfResolvedReports}}</span>
               </div>
       </div>
       <button class="top-content-btn" (click)="openModal()">New Incident</button>
    </div>
    <div class="middle-content">
      <div class="chart-1" *ngIf="isBarChart">
          <h3>Number of Accidents Per Type</h3>
         <canvas
               baseChart
               [data]="barChartData"
               [options]="barChartOptions"
               [type]="'bar'">
         </canvas>
      </div>
      <div class="chart-2">
          <h3>% No of Accident Types </h3>
           <canvas baseChart
               [data]="pieChartData"
               [options]="pieChartOptions"
               [type]="pieChartType">
         </canvas>
      </div>
    </div>
    <div class="last-content">

    </div>
  </div>
</div>
<app-new-incident-report-modal [show]="showModal" (close)="closeModal()" (formSubmit)="reportSubmit($event)"></app-new-incident-report-modal>
<app-new-action-plan-modal [show]="showModal2" [data]="actionID" (close)="closeModal2()" (formSubmit)="actionSubmit($event)"></app-new-action-plan-modal>
